<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>xmonad-rice</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&family=Fira+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:       #1a1a1a;
    --bg2:      #111111;
    --bg3:      #242424;
    --bg4:      #2e2e2e;
    --border:   #2a2a2a;
    --fg:       #c8c8c8;
    --dim:      #555555;
    --accent:   #5f87af;
    --green:    #87af5f;
    --yellow:   #af875f;
    --red:      #af5f5f;
    --scanline: rgba(0,0,0,0.25);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html {
    scroll-behavior: smooth;
    cursor: crosshair;
  }

  body {
    background: var(--bg);
    color: var(--fg);
    font-family: 'Share Tech Mono', monospace;
    font-size: 14px;
    line-height: 1.7;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* scanline overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      var(--scanline) 2px,
      var(--scanline) 4px
    );
    pointer-events: none;
    z-index: 999;
    opacity: 0.35;
  }

  /* noise grain */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 998;
    opacity: 0.4;
  }

  /* TOP BAR — simulated xmobar */
  .xmobar {
    position: sticky;
    top: 0;
    z-index: 100;
    background: #111111;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 14px;
    height: 28px;
    font-size: 12px;
    letter-spacing: 0.03em;
  }

  .xmobar-left {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .ws {
    padding: 0 6px;
    color: var(--dim);
    transition: color 0.15s;
  }
  .ws.active {
    color: var(--accent);
    background: var(--bg3);
    outline: 1px solid var(--accent);
  }
  .ws.occupied { color: var(--fg); }

  .xmobar-sep { color: var(--border); margin: 0 4px; }
  .xmobar-layout { color: var(--yellow); }
  .xmobar-title { color: var(--green); margin-left: 10px; }

  .xmobar-right {
    display: flex;
    align-items: center;
    gap: 16px;
    color: var(--dim);
  }
  .xmobar-right span { color: var(--fg); }
  .xmobar-right .label { color: var(--accent); }
  .xmobar-right .date { color: var(--yellow); }

  /* PAGE LAYOUT */
  .page {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 24px;
  }

  /* HERO */
  .hero {
    padding: 80px 0 60px;
    position: relative;
  }

  .hero-tag {
    font-family: 'VT323', monospace;
    font-size: 13px;
    color: var(--accent);
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 16px;
    opacity: 0;
    animation: fadein 0.4s 0.1s forwards;
  }

  .hero-title {
    font-family: 'VT323', monospace;
    font-size: clamp(56px, 8vw, 96px);
    color: var(--fg);
    line-height: 0.9;
    letter-spacing: -0.01em;
    opacity: 0;
    animation: fadein 0.5s 0.2s forwards;
  }

  .hero-title span { color: var(--accent); }

  .hero-sub {
    margin-top: 28px;
    color: var(--dim);
    font-size: 13px;
    max-width: 520px;
    line-height: 1.9;
    opacity: 0;
    animation: fadein 0.5s 0.4s forwards;
  }

  .hero-sub em { color: var(--fg); font-style: normal; }

  .hero-links {
    margin-top: 36px;
    display: flex;
    gap: 16px;
    opacity: 0;
    animation: fadein 0.5s 0.55s forwards;
  }

  .btn {
    display: inline-block;
    padding: 8px 20px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px;
    text-decoration: none;
    letter-spacing: 0.06em;
    transition: background 0.12s, color 0.12s;
    cursor: crosshair;
  }

  .btn-primary {
    background: var(--accent);
    color: #0d0d0d;
  }
  .btn-primary:hover { background: #7aaacf; }

  .btn-secondary {
    background: transparent;
    color: var(--fg);
    outline: 1px solid var(--border);
  }
  .btn-secondary:hover { outline-color: var(--dim); color: #fff; }

  /* vertical rule decoration */
  .hero-rule {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background: linear-gradient(to bottom, transparent, var(--border) 30%, var(--border) 70%, transparent);
    display: none;
  }

  /* SECTION SHELL */
  section {
    padding: 64px 0;
    border-top: 1px solid var(--border);
  }

  .section-label {
    font-size: 11px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 32px;
  }

  .section-label::before {
    content: '// ';
    color: var(--dim);
  }

  /* PALETTE GRID */
  .palette {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 2px;
    margin-top: 8px;
  }

  .swatch {
    height: 64px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 8px;
    font-size: 11px;
    position: relative;
    overflow: hidden;
    transition: transform 0.1s;
  }
  .swatch:hover { transform: scaleY(1.04); }

  .swatch-name { color: rgba(255,255,255,0.5); font-size: 10px; }
  .swatch-hex  { color: rgba(255,255,255,0.85); letter-spacing: 0.1em; }

  /* CODE BLOCKS */
  .code-block {
    background: var(--bg2);
    border: 1px solid var(--border);
    border-left: 3px solid var(--accent);
    padding: 20px 24px;
    overflow-x: auto;
    font-family: 'Fira Mono', monospace;
    font-size: 12.5px;
    line-height: 1.8;
    margin-bottom: 24px;
    position: relative;
  }

  .code-block .file-tag {
    position: absolute;
    top: 0;
    right: 0;
    background: var(--bg4);
    color: var(--dim);
    font-size: 10px;
    padding: 3px 10px;
    letter-spacing: 0.1em;
    border-left: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
  }

  .hl-kw   { color: #5f87af; }  /* keywords */
  .hl-fn   { color: #87af5f; }  /* functions */
  .hl-str  { color: #af875f; }  /* strings */
  .hl-num  { color: #af5f5f; }  /* numbers */
  .hl-cm   { color: #555555; }  /* comments */
  .hl-op   { color: #875f87; }  /* operators */
  .hl-var  { color: #c8c8c8; }  /* variables */
  .hl-type { color: #5f8787; }  /* types */

  /* LAYOUT DIAGRAM */
  .layout-demo {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-top: 8px;
  }

  .layout-fig {
    background: var(--bg2);
    border: 1px solid var(--border);
    padding: 16px;
  }

  .layout-fig-title {
    font-size: 11px;
    color: var(--yellow);
    letter-spacing: 0.12em;
    margin-bottom: 12px;
  }

  .win-grid {
    display: grid;
    gap: 3px;
    aspect-ratio: 16/9;
    font-size: 10px;
    color: var(--dim);
  }

  .win-grid.dwindle {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
  }

  .win-cell {
    background: var(--bg4);
    border: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    letter-spacing: 0.08em;
    transition: background 0.15s;
  }
  .win-cell:hover { background: #333; }
  .win-cell.master {
    background: #1e2830;
    border-color: var(--accent);
    color: var(--accent);
    grid-row: 1 / 3;
  }
  .win-cell.s1 { }
  .win-cell.s2 { }
  .win-cell.s3 { grid-column: 2; }

  .win-grid.tall {
    grid-template-columns: 3fr 2fr;
  }
  .win-cell.t-master {
    background: #1e2830;
    border-color: var(--accent);
    color: var(--accent);
    grid-row: 1 / 4;
  }
  .win-cell.t-s { }

  /* KEY TABLE */
  .keytable {
    width: 100%;
    border-collapse: collapse;
    font-size: 12.5px;
  }

  .keytable tr {
    border-bottom: 1px solid var(--border);
    transition: background 0.1s;
  }
  .keytable tr:hover { background: var(--bg3); }
  .keytable tr:last-child { border-bottom: none; }

  .keytable td {
    padding: 9px 12px;
    vertical-align: middle;
  }

  .keytable td:first-child {
    width: 220px;
    white-space: nowrap;
  }

  .key {
    display: inline-block;
    background: var(--bg4);
    border: 1px solid var(--border);
    border-bottom: 2px solid #111;
    padding: 1px 8px;
    font-family: 'Fira Mono', monospace;
    font-size: 11px;
    color: var(--accent);
    letter-spacing: 0.04em;
    margin-right: 2px;
  }

  .keytable .desc { color: var(--dim); }
  .keytable .desc em { color: var(--fg); font-style: normal; }

  /* STACK LIST */
  .stack {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2px;
  }

  .stack-item {
    background: var(--bg2);
    border: 1px solid var(--border);
    padding: 14px 18px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12.5px;
    transition: border-color 0.12s;
  }
  .stack-item:hover { border-color: var(--dim); }
  .stack-item .role { color: var(--dim); font-size: 11px; }
  .stack-item .tool { color: var(--fg); }

  /* FOOTER */
  footer {
    border-top: 1px solid var(--border);
    padding: 32px 0;
    font-size: 11px;
    color: var(--dim);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  footer a { color: var(--accent); text-decoration: none; }
  footer a:hover { text-decoration: underline; }

  /* ANIMATIONS */
  @keyframes fadein {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .reveal {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 0.5s, transform 0.5s;
  }
  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* blinking caret */
  .caret {
    display: inline-block;
    width: 10px;
    height: 1.1em;
    background: var(--accent);
    vertical-align: text-bottom;
    animation: blink 1s step-end infinite;
  }
  @keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0; } }

  @media (max-width: 640px) {
    .layout-demo { grid-template-columns: 1fr; }
    .stack { grid-template-columns: 1fr; }
    .xmobar-right { display: none; }
  }
</style>
</head>
<body>

<!-- Simulated XMobar -->
<div class="xmobar">
  <div class="xmobar-left">
    <span class="ws active">dev</span>
    <span class="ws occupied">web</span>
    <span class="ws occupied">sys</span>
    <span class="ws">doc</span>
    <span class="ws">irc</span>
    <span class="xmobar-sep">|</span>
    <span class="xmobar-layout">Dwindle</span>
    <span class="xmobar-sep">|</span>
    <span class="xmobar-title" id="barTitle">xmonad-rice / showcase</span>
  </div>
  <div class="xmobar-right">
    <span><span class="label">CPU</span> <span id="cpu">--</span>%</span>
    <span><span class="label">RAM</span> <span id="ram">--</span>%</span>
    <span class="date" id="clock"></span>
  </div>
</div>

<div class="page">

  <!-- HERO -->
  <section class="hero" style="border-top: none;">
    <div class="hero-tag">xmonad + xmobar + rofi</div>
    <div class="hero-title">xmonad<span>-</span>rice<span class="caret"></span></div>
    <p class="hero-sub">
      A <em>dark charcoal</em> setup built around the dwindle layout.
      No decorations. No wallpaper. No distraction. Just the work.
      Written in Haskell, configured once, left alone.
    </p>
    <div class="hero-links">
      <a class="btn btn-primary" href="https://github.com" target="_blank">GitHub</a>
      <a class="btn btn-secondary" href="#config">config</a>
      <a class="btn btn-secondary" href="#keys">keybinds</a>
    </div>
  </section>

  <!-- STACK -->
  <section id="stack">
    <div class="section-label reveal">stack</div>
    <div class="stack reveal">
      <div class="stack-item"><span class="tool">XMonad</span><span class="role">window manager</span></div>
      <div class="stack-item"><span class="tool">xmonad-contrib</span><span class="role">layout extensions</span></div>
      <div class="stack-item"><span class="tool">XMobar</span><span class="role">status bar</span></div>
      <div class="stack-item"><span class="tool">Rofi</span><span class="role">launcher</span></div>
      <div class="stack-item"><span class="tool">Picom (GLX)</span><span class="role">compositor</span></div>
      <div class="stack-item"><span class="tool">Alacritty</span><span class="role">terminal</span></div>
      <div class="stack-item"><span class="tool">Dunst</span><span class="role">notifications</span></div>
      <div class="stack-item"><span class="tool">CaskaydiaCove NF</span><span class="role">font</span></div>
    </div>
  </section>

  <!-- PALETTE -->
  <section id="palette">
    <div class="section-label reveal">palette</div>
    <div class="palette reveal">
      <div class="swatch" style="background:#1a1a1a;border:1px solid #2a2a2a;">
        <span class="swatch-name">bg</span>
        <span class="swatch-hex">#1a1a1a</span>
      </div>
      <div class="swatch" style="background:#242424;border:1px solid #2a2a2a;">
        <span class="swatch-name">bg-alt</span>
        <span class="swatch-hex">#242424</span>
      </div>
      <div class="swatch" style="background:#2e2e2e;">
        <span class="swatch-name">bg-hover</span>
        <span class="swatch-hex">#2e2e2e</span>
      </div>
      <div class="swatch" style="background:#3a3a3a;">
        <span class="swatch-name">border</span>
        <span class="swatch-hex">#3a3a3a</span>
      </div>
      <div class="swatch" style="background:#c8c8c8;">
        <span class="swatch-name" style="color:rgba(0,0,0,0.5);">fg</span>
        <span class="swatch-hex" style="color:rgba(0,0,0,0.8);">#c8c8c8</span>
      </div>
      <div class="swatch" style="background:#5f87af;">
        <span class="swatch-name">accent</span>
        <span class="swatch-hex">#5f87af</span>
      </div>
      <div class="swatch" style="background:#87af5f;">
        <span class="swatch-name">green</span>
        <span class="swatch-hex">#87af5f</span>
      </div>
      <div class="swatch" style="background:#af875f;">
        <span class="swatch-name">yellow</span>
        <span class="swatch-hex">#af875f</span>
      </div>
      <div class="swatch" style="background:#af5f5f;">
        <span class="swatch-name">red</span>
        <span class="swatch-hex">#af5f5f</span>
      </div>
    </div>
  </section>

  <!-- LAYOUTS -->
  <section id="layout">
    <div class="section-label reveal">layouts</div>
    <div class="layout-demo reveal">
      <div class="layout-fig">
        <div class="layout-fig-title">dwindle  (primary)</div>
        <div class="win-grid dwindle">
          <div class="win-cell master">master</div>
          <div class="win-cell s1">slave 1</div>
          <div class="win-cell s2">slave 2</div>
        </div>
        <p style="margin-top:12px;font-size:11px;color:var(--dim);line-height:1.7;">
          Fibonacci split. Each new window takes half the remaining space.
          Ratio 3/2, chirality CW. Gap 4px all sides.
        </p>
      </div>
      <div class="layout-fig">
        <div class="layout-fig-title">ResizableTall  (secondary)</div>
        <div class="win-grid tall" style="grid-template-rows: 1fr 1fr;">
          <div class="win-cell t-master">master</div>
          <div class="win-cell t-s">slave 1</div>
          <div class="win-cell t-s">slave 2</div>
        </div>
        <p style="margin-top:12px;font-size:11px;color:var(--dim);line-height:1.7;">
          Classic tall. Master takes 50%. Slave height adjustable
          per-window with M-a / M-z.
        </p>
      </div>
    </div>
  </section>

  <!-- CONFIG SNIPPETS -->
  <section id="config">
    <div class="section-label reveal">config</div>

    <div class="code-block reveal">
      <span class="file-tag">xmonad.hs</span>
<pre><span class="hl-cm">-- colours shared across all modules</span>
<span class="hl-var">colBg</span>        <span class="hl-op">=</span> <span class="hl-str">"#1a1a1a"</span>
<span class="hl-var">colAccent</span>    <span class="hl-op">=</span> <span class="hl-str">"#5f87af"</span>
<span class="hl-var">colBorderFoc</span> <span class="hl-op">=</span> <span class="hl-str">"#5f87af"</span>

<span class="hl-fn">myLayouts</span> <span class="hl-op">=</span>
    <span class="hl-fn">avoidStruts</span>
    <span class="hl-op">.</span> <span class="hl-fn">smartBorders</span>
    <span class="hl-op">.</span> <span class="hl-fn">toggleLayouts</span> <span class="hl-type">Full</span>
    <span class="hl-op">$</span> dwindle <span class="hl-op">|||</span> tall <span class="hl-op">|||</span> <span class="hl-type">Full</span>
  <span class="hl-kw">where</span>
    gap     <span class="hl-op">=</span> <span class="hl-fn">spacingRaw</span> <span class="hl-type">False</span> (<span class="hl-type">Border</span> <span class="hl-num">4</span> <span class="hl-num">4</span> <span class="hl-num">4</span> <span class="hl-num">4</span>) <span class="hl-type">True</span> (<span class="hl-type">Border</span> <span class="hl-num">4</span> <span class="hl-num">4</span> <span class="hl-num">4</span> <span class="hl-num">4</span>) <span class="hl-type">True</span>
    dwindle <span class="hl-op">=</span> gap <span class="hl-op">$</span> <span class="hl-type">Dwindle</span> <span class="hl-type">R</span> <span class="hl-type">CW</span> (<span class="hl-num">3</span><span class="hl-op">/</span><span class="hl-num">2</span>) (<span class="hl-num">11</span><span class="hl-op">/</span><span class="hl-num">10</span>)
    tall    <span class="hl-op">=</span> gap <span class="hl-op">$</span> <span class="hl-type">ResizableTall</span> <span class="hl-num">1</span> (<span class="hl-num">3</span><span class="hl-op">/</span><span class="hl-num">100</span>) (<span class="hl-num">1</span><span class="hl-op">/</span><span class="hl-num">2</span>) []</pre>
    </div>

    <div class="code-block reveal">
      <span class="file-tag">xmobarrc</span>
<pre><span class="hl-var">template</span> <span class="hl-op">=</span> <span class="hl-str">" %XMonadLog%  }{ | CPU %cpu%  | RAM %memory%  | %date% "</span>

<span class="hl-var">commands</span> <span class="hl-op">=</span>
    [ <span class="hl-type">Run</span> <span class="hl-type">XMonadLog</span>
    , <span class="hl-type">Run</span> <span class="hl-type">Cpu</span> [<span class="hl-str">"-t"</span>, <span class="hl-str">"&lt;total&gt;%"</span>, <span class="hl-str">"--normal"</span>, <span class="hl-str">"#87af5f"</span>, <span class="hl-str">"--high"</span>, <span class="hl-str">"#af5f5f"</span>] <span class="hl-num">10</span>
    , <span class="hl-type">Run</span> <span class="hl-type">Memory</span> [<span class="hl-str">"-t"</span>, <span class="hl-str">"&lt;usedratio&gt;%"</span>] <span class="hl-num">10</span>
    , <span class="hl-type">Run</span> <span class="hl-type">Date</span> <span class="hl-str">"%d/%m/%y  %H:%M"</span> <span class="hl-str">"date"</span> <span class="hl-num">100</span>
    ]</pre>
    </div>

    <div class="code-block reveal">
      <span class="file-tag">config.rasi</span>
<pre><span class="hl-fn">window</span> {
    <span class="hl-var">width</span>:         <span class="hl-num">520px</span>;
    <span class="hl-var">border</span>:        <span class="hl-num">1px</span>;
    <span class="hl-var">border-color</span>:  <span class="hl-str">@accent</span>;
    <span class="hl-var">border-radius</span>: <span class="hl-num">0px</span>;
    <span class="hl-var">y-offset</span>:      <span class="hl-num">-80px</span>;
}
<span class="hl-fn">configuration</span> {
    <span class="hl-var">matching</span>:       <span class="hl-str">"fuzzy"</span>;
    <span class="hl-var">sorting-method</span>: <span class="hl-str">"fzf"</span>;
    <span class="hl-var">kb-row-up</span>:      <span class="hl-str">"Up,Control+k"</span>;
    <span class="hl-var">kb-row-down</span>:    <span class="hl-str">"Down,Control+j"</span>;
}</pre>
    </div>
  </section>

  <!-- KEYBINDINGS -->
  <section id="keys">
    <div class="section-label reveal">keybindings</div>
    <table class="keytable reveal">
      <tbody>
        <tr>
          <td><span class="key">M</span><span class="key">Return</span></td>
          <td class="desc"><em>open terminal</em></td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">d</span></td>
          <td class="desc"><em>rofi</em> app launcher</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">S-d</span></td>
          <td class="desc"><em>rofi</em> run</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">Tab</span></td>
          <td class="desc"><em>rofi</em> window switcher</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">f</span></td>
          <td class="desc">toggle <em>fullscreen</em></td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">q</span></td>
          <td class="desc">close focused window</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">S-q</span></td>
          <td class="desc">close <em>all</em> on workspace</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">S-r</span></td>
          <td class="desc">recompile + restart xmonad</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">h</span> / <span class="key">l</span></td>
          <td class="desc">shrink / grow master</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">j</span> / <span class="key">k</span></td>
          <td class="desc">focus next / previous window</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">a</span> / <span class="key">z</span></td>
          <td class="desc">resize slave height</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">.</span> / <span class="key">,</span></td>
          <td class="desc">next / previous workspace</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">S-.</span> / <span class="key">S-,</span></td>
          <td class="desc">move window to next / prev WS</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">Print</span></td>
          <td class="desc">screenshot (scrot)</td>
        </tr>
        <tr>
          <td><span class="key">M</span><span class="key">S-Print</span></td>
          <td class="desc">region screenshot</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- FOOTER -->
  <footer>
    <span>xmonad-rice &mdash; written in Haskell</span>
    <span><a href="https://xmonad.org" target="_blank">xmonad.org</a> &nbsp;&middot;&nbsp; <a href="https://hackage.haskell.org/package/xmonad-contrib" target="_blank">xmonad-contrib</a></span>
  </footer>

</div><!-- .page -->

<script>
  // live clock
  function tick() {
    const now = new Date();
    const dd  = String(now.getDate()).padStart(2,'0');
    const mm  = String(now.getMonth()+1).padStart(2,'0');
    const yy  = String(now.getFullYear()).slice(-2);
    const hh  = String(now.getHours()).padStart(2,'0');
    const min = String(now.getMinutes()).padStart(2,'0');
    document.getElementById('clock').textContent = `${dd}/${mm}/${yy}  ${hh}:${min}`;
  }
  tick();
  setInterval(tick, 30000);

  // fake cpu/ram counters — visual flavour
  function fakeStat(id, base, variance) {
    const el = document.getElementById(id);
    function update() {
      const v = Math.min(99, Math.max(1, base + Math.floor((Math.random()-0.5)*variance)));
      el.textContent = String(v).padStart(2,'0');
      el.style.color = v > 75 ? '#af5f5f' : v > 40 ? '#c8c8c8' : '#87af5f';
    }
    update();
    setInterval(update, 1800);
  }
  fakeStat('cpu', 18, 24);
  fakeStat('ram', 52, 12);

  // scroll reveal
  const revealEls = document.querySelectorAll('.reveal');
  const io = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
        io.unobserve(e.target);
      }
    });
  }, { threshold: 0.08 });
  revealEls.forEach(el => io.observe(el));

  // bar title cycles through window names
  const titles = [
    'xmonad-rice / showcase',
    'vim  ~/dev/main.hs',
    'alacritty  [dev]',
    'firefox  — xmonad docs',
    'htop',
  ];
  let ti = 0;
  setInterval(() => {
    ti = (ti + 1) % titles.length;
    document.getElementById('barTitle').textContent = titles[ti];
  }, 3200);
</script>
</body>
</html>
